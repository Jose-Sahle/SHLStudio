SELECT 
	UCOL.COLUMN_NAME COLUMNNAME
	,CAST(0 AS INTEGER) IS_IDENTITY
	,CAST((CASE WHEN EXISTS
		(
			SELECT 1 
			FROM ALL_CONSTRAINTS PK, ALL_CONS_COLUMNS COL
			WHERE COL.COLUMN_NAME = UCOL.COLUMN_NAME
			     AND COL.TABLE_NAME = UCOL.TABLE_NAME
			     AND PK.TABLE_NAME = COL.TABLE_NAME
			    AND PK.CONSTRAINT_NAME = COL.CONSTRAINT_NAME
			    AND PK.CONSTRAINT_TYPE = 'P'
		
		) THEN 1 ELSE 0
	 END) AS INTEGER) AS IS_PRIMARYKEY
	,CAST((CASE WHEN EXISTS
		(
			SELECT 1 
			FROM ALL_CONSTRAINTS FK, ALL_CONS_COLUMNS COL
			WHERE  COL.COLUMN_NAME = UCOL.COLUMN_NAME
			    AND COL.TABLE_NAME = UCOL.TABLE_NAME
			    AND FK.TABLE_NAME = COL.TABLE_NAME
			    AND FK.CONSTRAINT_NAME = COL.CONSTRAINT_NAME
			    AND FK.CONSTRAINT_TYPE = 'R'
		) THEN 1 ELSE 0
	 END) AS INTEGER) AS IS_FOREIGNKEY
	,(			
		SELECT UCC.TABLE_NAME
		FROM USER_CONSTRAINTS  UC, USER_CONS_COLUMNS UCC
		WHERE UC.R_CONSTRAINT_NAME = UCC.CONSTRAINT_NAME
		AND UC.CONSTRAINT_TYPE = 'R'
		AND UC.TABLE_NAME = UCOL.TABLE_NAME
		AND UCC.COLUMN_NAME = UCOL.COLUMN_NAME
	 ) TABLE_FOREIGNKEY	 
	, CASE 
		WHEN UPPER(UCOL.DATA_TYPE) = 'INT' THEN 'Int32'
		WHEN UPPER(UCOL.DATA_TYPE) = 'INTEGER' THEN 'Int32'
		WHEN UPPER(UCOL.DATA_TYPE) = 'LONG' THEN 'Int64'
			
		WHEN UPPER(UCOL.DATA_TYPE) = 'CHAR' THEN 'String'
		WHEN UPPER(UCOL.DATA_TYPE) = 'NCHAR' THEN 'String'
		WHEN UPPER(UCOL.DATA_TYPE) = 'VARCHAR' THEN 'String'
		WHEN UPPER(UCOL.DATA_TYPE) = 'NVARCHAR' THEN 'String'
		WHEN UPPER(UCOL.DATA_TYPE) = 'VARCHAR2' THEN 'String'
		WHEN UPPER(UCOL.DATA_TYPE) = 'NVARCHAR2' THEN 'String'
		
		WHEN UPPER(UCOL.DATA_TYPE) = 'DATE' THEN 'DateTime'
		WHEN UPPER(UCOL.DATA_TYPE) = 'TIMESTAMP' THEN 'DateTime'
		WHEN UPPER(UCOL.DATA_TYPE) = 'TIMESTAMP WITH TIME ZONE' THEN 'DateTime'
		WHEN UPPER(UCOL.DATA_TYPE) = 'TIMESTAMP WITH LOCAL TIME ZONE' THEN 'DateTime'
		
		WHEN UPPER(UCOL.DATA_TYPE) = 'NUMBER' THEN 'Int32'
		WHEN UPPER(UCOL.DATA_TYPE) = 'BINARY_FLOAT' THEN 'Double'
		WHEN UPPER(UCOL.DATA_TYPE) = 'BINARY_DOUBLE' THEN 'Double'
		ELSE 'Int32'
	 END AS DATA_TYPE
	,CAST(UCOL.CHAR_LENGTH AS INTEGER) DATA_SIZE	
FROM 
	USER_TAB_COLS UCOL
WHERE 
	UCOL.TABLE_NAME = '#TableName#'
